<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="estilo/style6.css">
    <title>Login 2</title>
</head>
<body>

    <div class="corpo" id="corpo">
        <form action=""> <!--motivo pelo qual não estava dando certo da última vez, não estavão dentro do form-->
            <h1 id="resposta">Olá</h1>
            <div class="input-box">
                <input type="text" placeholder="Usuário" required id="user">
                <i class='bx bxs-user'></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="Senha" id="pass">
                <i class='bx bxs-lock-alt'></i>
            </div>

            <div class="lembrar-esqueci">
                <label for="ime"><input type="checkbox" id="ime"> Me Lembre</label>
                <a href="#">Esqueci a Senha</a>
            </div>

            <button type="submit" class="btn">Login</button>
            
            <div class="registar-link">
                <p>Ainda não tem uma conta? <a href="cadastro.html">Registrar</a></p>
            </div>
        </form>

        <div class="notificacao" id="notificacao">
            <p>Porfavor, preencha todos os campos corretamentes.</p>
        </div>
        
    </div>

<script>

    document.getElementById('corpo').addEventListener('submit', function(event) {
        const notificacao = document.getElementById('notificacao')
        const campos = [
            document.getElementById('user'),
            document.getElementById('pass')
        ]

        //configuraçoes adicinais pq como estava, não estava funcionado
        let campoVazio = false

        //verifica se o campo esta vazio
        campos.forEach(campo => {
            if (campo.value.trim() === '') {
                event.preventDefault()
                notificacao.style.display = 'block'
                campo.style.border = '1px solid red'
                campo.focus()
                campoVazio = true
                return //sai do forEach se encontrar um campo vazio
            } else {
                campo.style.border = '' //remove a borda vermelha se preencido
            }
        })

        if (campoVazio) {
            setTimeout(() => {
                notificacao.style.display = 'none'
            }, 5000)
        } else {
            notificacao.style.display = 'none'
        }

        campos.forEach(campo => {
            campo.addEventListener('input', function() {
                if (this.value.trim() !== '') {
                    this.style.border = 'none' //remove o destaque do campo indicado quando digitado
                }
            })
        })
    }) 
</script>

</body>
</html>